<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Plan de adelgazamiento ‚Äì 8 semanas</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
 @media print {
 body { -webkit-print-color-adjust: exact; }
 .no-print { display: none; }
 table { page-break-inside: avoid; }
 td, th { font-size: 10pt; }
 }
</style>
</head>
<body class="bg-gray-50 text-gray-800">
<div class="mx-auto max-w-7xl p-6">

<h1 class="text-3xl font-semibold mb-4">Plan de adelgazamiento ‚Äì 8 semanas</h1>

<!-- Botones de impresi√≥n y selecci√≥n de semana -->
<div class="flex flex-wrap gap-2 mb-6 no-print">
 <button onclick="window.print()" class="px-3 py-1 border rounded bg-green-500 text-white hover:bg-green-600">üñ®Ô∏è Imprimir / PDF</button>
 <button id="btn-0" class="week-btn px-3 py-1 border rounded bg-blue-500 text-white hover:bg-blue-600" onclick="showWeek(0)">Semana 1</button>
 <button id="btn-1" class="week-btn px-3 py-1 border rounded bg-blue-500 text-white hover:bg-blue-600" onclick="showWeek(1)">Semana 2</button>
 <button id="btn-2" class="week-btn px-3 py-1 border rounded bg-blue-500 text-white hover:bg-blue-600" onclick="showWeek(2)">Semana 3</button>
 <button id="btn-3" class="week-btn px-3 py-1 border rounded bg-blue-500 text-white hover:bg-blue-600" onclick="showWeek(3)">Semana 4</button>
 <button id="btn-4" class="week-btn px-3 py-1 border rounded bg-blue-500 text-white hover:bg-blue-600" onclick="showWeek(4)">Semana 5</button>
 <button id="btn-5" class="week-btn px-3 py-1 border rounded bg-blue-500 text-white hover:bg-blue-600" onclick="showWeek(5)">Semana 6</button>
 <button id="btn-6" class="week-btn px-3 py-1 border rounded bg-blue-500 text-white hover:bg-blue-600" onclick="showWeek(6)">Semana 7</button>
 <button id="btn-7" class="week-btn px-3 py-1 border rounded bg-blue-500 text-white hover:bg-blue-600" onclick="showWeek(7)">Semana 8</button>
</div>

<!-- Secci√≥n colapsable de comidas fijas -->
<div class="mb-6 bg-white border rounded-lg shadow-sm">
 <!-- Bot√≥n para colapsar -->
 <button 
   onclick="toggleFixedMeals()" 
   class="w-full p-4 text-left flex items-center justify-between bg-blue-100 hover:bg-blue-200 rounded-t-lg transition-colors cursor-pointer no-print">
   <span class="text-lg font-semibold">üìã Comidas fijas diarias (Desayuno, Media ma√±ana, Merienda) - 550 kcal</span>
   <span id="toggle-icon" class="text-xl font-bold">‚ñº</span>
 </button>
 
 <!-- Contenido colapsable -->
 <div id="fixed-meals-content" class="grid grid-cols-1 md:grid-cols-3 gap-4 p-4">
   <div class="p-4 border rounded shadow-sm">
     <h3 class="flex items-center gap-2 text-base mb-2 font-semibold">ü•õ Desayuno (~300 kcal)</h3>
     <ul class="list-disc pl-4 text-sm space-y-1">
       <li>Leche desnatada 200 ml (70 kcal)</li>
       <li>Pan integral 40 g (105 kcal)</li>
       <li>Queso light 30 g (45 kcal) o pavo 30 g (30 kcal)</li>
       <li>Caf√© solo 0 kcal</li>
     </ul>
   </div>
   <div class="p-4 border rounded shadow-sm">
     <h3 class="flex items-center gap-2 text-base mb-2 font-semibold">üçé Media ma√±ana (~100 kcal)</h3>
     <ul class="list-disc pl-4 text-sm space-y-1">
       <li>Fruta: manzana 1 pieza (80 kcal)</li>
     </ul>
   </div>
   <div class="p-4 border rounded shadow-sm">
     <h3 class="flex items-center gap-2 text-base mb-2 font-semibold">ü•§ Merienda (~150 kcal)</h3>
     <ul class="list-disc pl-4 text-sm space-y-1">
       <li>Leche desnatada 150 ml (52 kcal)</li>
       <li>Fruta: pl√°tano 1 pieza (100 kcal)</li>
     </ul>
   </div>
 </div>
</div>

<!-- Contenedor de tablas -->
<div id="weeks-container"></div>
</div>

<script>
const DAYS = ["lunes", "martes", "mi√©rcoles", "jueves", "viernes", "s√°bado", "domingo"];
const DAY_LABELS = ["Lunes", "Martes", "Mi√©rcoles", "Jueves", "Viernes", "S√°bado", "Domingo"];
const PLACEHOLDER = ["‚Äî"];

// Calor√≠as fijas de desayuno, media ma√±ana y merienda
const BREAKFAST_KCAL = 300;
const MID_MORNING_KCAL = 100;
const SNACK_KCAL = 150;

// Variable para controlar si las comidas fijas est√°n expandidas
let fixedMealsExpanded = true;

// Funci√≥n para contraer/expandir las comidas fijas
function toggleFixedMeals() {
 const content = document.getElementById('fixed-meals-content');
 const icon = document.getElementById('toggle-icon');
 
 if (fixedMealsExpanded) {
   // Contraer
   content.style.display = 'none';
   icon.textContent = '‚ñ∂';
   fixedMealsExpanded = false;
 } else {
   // Expandir
   content.style.display = 'grid';
   icon.textContent = '‚ñº';
   fixedMealsExpanded = true;
 }
}

// Funci√≥n para extraer kcal de un string tipo "Pollo 120g (165 kcal)"
function extraKcal(item){
 const match = item.match(/\((\d+)\s*kcal\)/i);
 return match ? parseInt(match[1]) : 0;
}

// Datos de las 8 semanas
const WEEKS = [
 {
 title:"Semana 1",
comida:{
 lunes:["Patata al horno 200g (160 kcal)","Pollo 120g (200 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Verduras 150g (50 kcal)"],
 martes:["Alubias cocidas 200g (180 kcal)","At√∫n natural 1 lata (120 kcal)","Queso fresco 50g (60 kcal)","Ensalada (lechuga, medio tomate, 1/4 cebolla) 150g (60 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 mi√©rcoles:["Ensalada (lechuga, medio tomate, 1/4 cebolla) 150g (60 kcal)","Ma√≠z 15g (tres cucharadas) (15 kcal)","Hamburguesa de ternera 120g (210 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Verduras 150g (50 kcal)"],
 jueves:["Garbanzos cocidos 200g (180 kcal)","Langostinos 100g (90 kcal)","Ensalada (lechuga, medio tomate, 1/4 cebolla) 150g (60 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 viernes:["media Lasa√±a bolognesa 350g mercadona (500 kcal)","Esp√°rragos blancos 150g (50 kcal)"],
 s√°bado:["Caldo de verduras 250g (80 kcal)","Pescado a la plancha 120g (200 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Arroz 60g (210 kcal)"],
 domingo:["Ensalada (lechuga, medio tomate, 1/4 cebolla) 150g (60 kcal)","Ma√≠z 15g (tres cucharadas) (15 kcal)","Hamburguesa de ternera 120g (210 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Verduras 150g (50 kcal)"]
},
cena:{
 lunes:["Ensalada (lechuga 50 gr,  tomate 75 gr, cebolla 25 gr) 150g (60 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Jam√≥n cocido o lata atun natural 50g (60 kcal)","huevo cocido 50gr (70 kcal)"],
 martes:["Jud√≠as verdes 150g (50 kcal)","Brocheta de pollo 120g (210 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 mi√©rcoles:["Pescado guisado 120g (210 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Verduras 150g (50 kcal)"],
 jueves:["Crema de verduras 250g (120 kcal)","Huevo a la plancha  (80 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 viernes:["Can√≥nigos 100g (50 kcal)","Pollo asado 120g (210 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 s√°bado:[" Ensalada (lechuga, medio tomate, 1/4 cebolla) 150g (60 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Huevo a la plancha  (80 kcal)","Jam√≥n cocido 30g (40 kcal)"],
 domingo:["Pescado guisado 120g (210 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Verduras 150g (50 kcal)"]
}
},
{
title:"Semana 2",
comida:{
 lunes:["Sopa de verduras 250g (120 kcal)","Fideos 70g (260 kcal)","Pollo 100g (165 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 martes:["Arroz con tomate 150g (180 kcal)","Huevo 60g (90 kcal)","Pimientos al horno 100g (40 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 mi√©rcoles:["Sopa de verduras 250g (120 kcal)","Fideos 70g (260 kcal)","Pollo 100g (165 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 jueves:["Garbanzos con acelga 150g (210 kcal)","Pescado 100g (120 kcal)","Ensalada 150g (60 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 viernes:["Tortilla de patata 150g (220 kcal)","Patatas cocidas 150g (120 kcal)","Verduras 100g (40 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 s√°bado:["Guisantes con jam√≥n 150g (180 kcal)","Ensalada 150g (60 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 domingo:["Lentejas 150g (180 kcal)","Ternera 100g (210 kcal)","Berenjenas 100g (40 kcal)","Cucharada sopera Aceite 10g (90 kcal)"]
},
cena:{
 lunes:["Ensalada 150g (60 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Palitos de cangrejo 50g (75 kcal)","At√∫n natural 1 lata (120 kcal)"],
 martes:["Ensalada 150g (60 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Pollo 100g (165 kcal)"],
 mi√©rcoles:["Ensalada 150g (60 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Palitos de cangrejo 50g (75 kcal)","At√∫n natural 1 lata (120 kcal)"],
 jueves:["Tomate 100g (20 kcal)","Lomo de cerdo 100g (200 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 viernes:["Sopa juliana 250g (120 kcal)","Pollo 100g (165 kcal)","Jam√≥n 30g (70 kcal)","Ensalada 150g (60 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 s√°bado:["Menestra 200g (150 kcal)","Pescado blanco 100g (120 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 domingo:["Ensalada 150g (60 kcal)","Huevo 1 pieza (70 kcal)","Queso fresco 50g (60 kcal)","Cucharada sopera Aceite 10g (90 kcal)"]
}
},
{
title:"Semana 3",
comida:{
 lunes:["Menestra 200g (150 kcal)","Pescado merluza 120g (150 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Ensalada 150g (60 kcal)","Aguacate 50g (20 kcal)"],
 martes:["Alubias 80g (270 kcal)","Ternera 120g (250 kcal)","Pimientos 100g (50 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Ensalada 150g (60 kcal)","Aguacate 50g (20 kcal)"],
 mi√©rcoles:["Menestra 200g (150 kcal)","Pescado blanco 120g (160 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Ensalada 150g (60 kcal)","Aguacate 50g (20 kcal)"],
 jueves:["Macarrones 80g (280 kcal)","Tomate frito 50g (40 kcal)","Pollo 120g (150 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Ensalada 150g (60 kcal)","Aguacate 50g (20 kcal)"],
 viernes:["Patata cocida 150g (120 kcal)","Huevo a la plancha 100g (150 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Ensalada 150g (60 kcal)","Aguacate 50g (20 kcal)"],
 s√°bado:["Arroz 80g (280 kcal)","3 delicias verduras 50g (40 kcal)","Ternera 120g (150 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Tomate 100g (20 kcal)"],
 domingo:["Garbanzos 80g (270 kcal)","Verduras 100g (50 kcal)","Hamburguesa de pollo 120g (150 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Ensalada 150g (60 kcal)","Aguacate 50g (20 kcal)"]
},
cena:{
 lunes:["Crema de calabac√≠n 250g (80 kcal)","Tortilla 100g (150 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 martes:["Ensalada 150g (60 kcal)","Aguacate 50g (20 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Pescado 120g (120 kcal)"],
 mi√©rcoles:["Crema de calabac√≠n 250g (80 kcal)","Tortilla 100g (150 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 jueves:["Champi√±ones 100g (25 kcal)","Jam√≥n serrano 50g (120 kcal)"],
 viernes:["Sopa de verduras 250g (80 kcal)","Pollo 120g (150 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 s√°bado:["Ensalada 150g (60 kcal)","Aguacate 50g (20 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Queso fresco 50g (50 kcal)","At√∫n 120g (140 kcal)"],
 domingo:["Revuelto de esp√°rragos verdes 150g (80 kcal)","Jam√≥n cocido 50g (70 kcal)","Cucharada sopera Aceite 10g (90 kcal)"]
}
},
{
title:"Semana 4",
comida:{
 lunes:["Sopa de verduras 250g (80 kcal)","Pollo 120g (160 kcal)","Fideos 80g (120 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Ensalada 150g (60 kcal)","Aguacate 50g (20 kcal)"],
 martes:["Alubias 80g (270 kcal)","Huevo escalfado 100g (150 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Ensalada 150g (60 kcal)","Aguacate 50g (20 kcal)"],
 mi√©rcoles:["Menestra 200g (150 kcal)","Pescado blanco 120g (160 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Ensalada 150g (60 kcal)","Aguacate 50g (20 kcal)"],
 jueves:["Arroz 80g (280 kcal)","Hamburguesa ternera 120g (140 kcal)","Tomate 100g (40 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 viernes:["Sopa de verduras 250g (80 kcal)","Pollo 120g (160 kcal)","Fideos 80g (120 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Ensalada 150g (60 kcal)","Aguacate 50g (20 kcal)"],
 s√°bado:["Patata cocida 150g (120 kcal)","Huevo a la plancha 100g (150 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 domingo:["Garbanzos 80g (270 kcal)","Espinacas 100g (25 kcal)","Pescado blanco 120g (160 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Ensalada 150g (60 kcal)","Aguacate 50g (20 kcal)"]
},
cena:{
 lunes:["Pimientos del piquillo 100g (25 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Bacalao 120g (120 kcal)"],
 martes:["Huevo guisado 100g (150 kcal)","Verduras 150g (50 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 mi√©rcoles:["Coliflor 150g (30 kcal)","Jam√≥n cocido 50g (80 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 jueves:["Ensalada 150g (60 kcal)","Aguacate 50g (20 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Lomo cerdo 120g (200 kcal)"],
 viernes:["Pimientos del piquillo 100g (25 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Bacalao 120g (120 kcal)"],
 s√°bado:["Esp√°rragos verdes 150g (25 kcal)","Gambas 100g (90 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 domingo:["Berenjenas a la plancha 150g (40 kcal)","Tortilla de at√∫n 100g (150 kcal)","Cucharada sopera Aceite 10g (90 kcal)"]
}
},
{
title:"Semana 5",
comida:{
 lunes:["Patata al horno 150g (120 kcal)","Pollo 120g (150 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Verduras 100g (40 kcal)"],
 martes:["Alubias 80g (270 kcal)","Ternera 120g (200 kcal)","Esp√°rragos 100g (20 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 mi√©rcoles:["Sopa de verduras 250g (80 kcal)","Pollo 120g (150 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Ensalada 150g (60 kcal)","Aguacate 50g (20 kcal)"],
 jueves:["Garbanzos 80g (270 kcal)","Langostinos 100g (90 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Ensalada 150g (60 kcal)","Aguacate 50g (20 kcal)"],
 viernes:["Ensalada de ma√≠z 150g (60 kcal)","Aguacate 50g (20 kcal)","Lomo adobado 120g (180 kcal)","Verduras 100g (60 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 s√°bado:["Patata al horno 150g (120 kcal)","Pescado blanco 120g (160 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Verduras 100g (40 kcal)"],
 domingo:["Sopa de verduras 250g (80 kcal)","Pollo 120g (150 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Ensalada 150g (60 kcal)","Aguacate 50g (20 kcal)"]
},
cena:{
 lunes:["Tortilla calabac√≠n 100g (150 kcal)","Cucharada sopera Aceite 10g (90 kcal)","At√∫n 120g (140 kcal)","Ensalada 150g (60 kcal)","Aguacate 50g (20 kcal)"],
 martes:["Ensalada 150g (60 kcal)","Aguacate 50g (20 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Queso fresco 50g (50 kcal)"],
 mi√©rcoles:["Ensalada 150g (60 kcal)","Aguacate 50g (20 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Pescado 120g (150 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 jueves:["Coles de Bruselas 150g (40 kcal)","Tortilla de jam√≥n 100g (150 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 viernes:["Champi√±ones 100g (25 kcal)","Pavo 100g (100 kcal)","Queso fresco 50g (50 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 s√°bado:["Ensalada 150g (60 kcal)","Aguacate 50g (20 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Huevo a la plancha 100g (150 kcal)","Queso fresco 50g (50 kcal)"],
 domingo:["Ensalada 150g (60 kcal)","Aguacate 50g (20 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Pescado 120g (150 kcal)","Cucharada sopera Aceite 10g (90 kcal)"]
}
},
{
title:"Semana 6",
comida:{
 lunes:["Patata guisada 200g (160 kcal)","Merluza 120g (150 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Verduras 150g (50 kcal)"],
 martes:["Arroz integral 60g (210 kcal)","Ternera 120g (210 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Ensalada 100g (50 kcal)","Aguacate 50g (50 kcal)"],
 mi√©rcoles:["Tortilla de patata 2 huevos + 150g patata (320 kcal)","Ensalada 100g (50 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 jueves:["Patata guisada 200g (160 kcal)","Pescado 120g (150 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Verduras 150g (50 kcal)"],
 viernes:["Crema de verduras 250g (120 kcal)","Cerdo adobado 120g (180 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Ensalada 100g (50 kcal)"],
 s√°bado:["Lentejas 200g cocidas (180 kcal)","Tortilla 2 huevos (200 kcal)","Ensalada 100g (50 kcal)","Queso fresco 50g (50 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 domingo:["Ensalada de pasta 150g (220 kcal)","Gambas 100g (90 kcal)","At√∫n natural 1 lata (120 kcal)","Cucharada sopera Aceite 10g (90 kcal)"]
},
cena:{
 lunes:["Ensalada 150g (60 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Tortilla de jam√≥n 2 huevos + 30g jam√≥n (250 kcal)"],
 martes:["Tomate en rodajas 150g (30 kcal)","Salchicha de pollo 100g (150 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 mi√©rcoles:["Pimientos asados 150g (50 kcal)","Bacalao 120g (120 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 jueves:["Ensalada 150g (60 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Tortilla de jam√≥n 2 huevos + 30g jam√≥n (250 kcal)"],
 viernes:["Caldo de verduras 250g (80 kcal)","Pollo 120g (150 kcal)","Verduras 150g (50 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 s√°bado:["Esp√°rragos blancos 150g (30 kcal)","Hamburguesa de ternera 120g (150 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 domingo:["Verduras variadas 150g (50 kcal)","Pavo a la plancha 120g (150 kcal)","Cucharada sopera Aceite 10g (90 kcal)"]
}
},
{
title:"Semana 7",
comida:{
 lunes:["Tortilla 2 huevos (200 kcal)","Patatas cocidas 200g (160 kcal)","Ensalada 100g (60 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 martes:["Garbanzos cocidos 200g (180 kcal)","Langostinos 100g (90 kcal)","Ensalada 100g (60 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 mi√©rcoles:["Ensalada de ma√≠z 100g (60 kcal)","Aguacate 50g (40 kcal)","Pescado a la plancha 120g (150 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Pisto 150g (100 kcal)"],
 jueves:["Sopa de verduras 250g (80 kcal)","Arroz 60g (70 kcal)","Pollo 120g (150 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 viernes:["Alubias cocidas 200g (180 kcal)","Pescado a la plancha 120g (150 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Ensalada 100g (50 kcal)"],
 s√°bado:["Lasa√±a 150g (250 kcal)","Carne de ternera picada 120g (180 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Can√≥nigos 100g (50 kcal)"],
 domingo:["Ensalada de ma√≠z 100g (60 kcal)","Aguacate 50g (40 kcal)","Pescado a la plancha 120g (150 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Pisto 150g (100 kcal)"]
},
cena:{
 lunes:["Champi√±ones 150g (50 kcal)","Ternera a la plancha 120g (150 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 martes:["Tortilla de jam√≥n y at√∫n 2 huevos + 30g jam√≥n + 1 lata at√∫n (350 kcal)","R√∫cula 100g (20 kcal)"],
 mi√©rcoles:["Menestra 150g (120 kcal)","Hamburguesa de pollo 120g (150 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 jueves:["Ensalada 150g (60 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Mejillones y gambas cocidas 120g (150 kcal)"],
 viernes:["Tortilla de calabac√≠n 2 huevos (200 kcal)","Jud√≠as verdes 150g (50 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 s√°bado:["Pescado guisado 120g (150 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Verduras 150g (50 kcal)"],
 domingo:["Menestra 150g (120 kcal)","Hamburguesa de pollo 120g (150 kcal)","Cucharada sopera Aceite 10g (90 kcal)"]
}
},
{
title:"Semana 8",
comida:{
 lunes:["Sopa de verduras 250g (120 kcal)","Fideos 70g (260 kcal)","Pollo 100g (165 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 martes:["Arroz con tomate 150g (180 kcal)","Huevo 60g (90 kcal)","Pimientos al horno 100g (40 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 mi√©rcoles:["Sopa de verduras 250g (120 kcal)","Fideos 70g (260 kcal)","Pollo 100g (165 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 jueves:["Garbanzos con acelga 150g (210 kcal)","Pescado 100g (120 kcal)","Ensalada (lechuga, medio tomate, 1/4 cebolla) 150g (60 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 viernes:["Tortilla de patata 150g (220 kcal)","Patatas cocidas 150g (120 kcal)","Verduras 100g (40 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 s√°bado:["Guisantes con jam√≥n 150g (180 kcal)","Ensalada (lechuga, medio tomate, 1/4 cebolla) 150g (60 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 domingo:["Lentejas 150g (180 kcal)","Ternera 100g (210 kcal)","Berenjenas 100g (40 kcal)","Cucharada sopera Aceite 10g (90 kcal)"]
},
cena:{
 lunes:["Ensalada 150g (60 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Palitos de cangrejo 50g (75 kcal)","At√∫n natural 1 lata (120 kcal)"],
 martes:["Ensalada 150g (60 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Pollo 100g (165 kcal)"],
 mi√©rcoles:["Ensalada 150g (60 kcal)","Cucharada sopera Aceite 10g (90 kcal)","Palitos de cangrejo 50g (75 kcal)","At√∫n natural 1 lata (120 kcal)"],
 jueves:["Tomate 100g (20 kcal)","Lomo de cerdo 100g (200 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 viernes:["Sopa juliana 250g (120 kcal)","Pollo 100g (165 kcal)","Jam√≥n 30g (70 kcal)","Ensalada (lechuga, medio tomate, 1/4 cebolla) 150g (60 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 s√°bado:["Menestra 200g (150 kcal)","Pescado blanco 100g (120 kcal)","Cucharada sopera Aceite 10g (90 kcal)"],
 domingo:["Ensalada 150g (60 kcal)","Huevo 1 pieza (70 kcal)","Queso fresco 50g (60 kcal)","Cucharada sopera Aceite 10g (90 kcal)"]
}
}
];

// Generar tablas y calcular kcal por d√≠a
const container = document.getElementById("weeks-container");

WEEKS.forEach((week, i) => {
 const table = document.createElement("table");
 table.id = "week-" + i;
 table.className = "min-w-full border-collapse mb-8 text-xs sm:text-sm border hidden";

 // Generar filas de comida y cena
 const rowsHtml = ["comida", "cena"].map(meal => {
 return `<tr class="border-t">
 <th class="p-2 text-left sticky left-0 bg-white">${meal.charAt(0).toUpperCase() + meal.slice(1)}</th>
 ${DAYS.map(day => {
 const items = week[meal][day] || PLACEHOLDER;
 return `<td class="p-2 align-top">
 ${items.map(i => `<span class="inline-block bg-gray-200 rounded-2xl px-2 py-1 mb-1">${i}</span>`).join("<br>")}
 </td>`;
 }).join("")}
 </tr>`;
 }).join("");

 // Calcular total kcal por d√≠a incluyendo desayuno, media ma√±ana y merienda
 let totalKcalRow = `<tr class="border-t bg-yellow-100 font-semibold">
 <th class="p-2 text-left sticky left-0 bg-yellow-100">Total kcal</th>`;
 DAYS.forEach(day => {
 const comidaKcal = week.comida[day].reduce((sum, i) => sum + extraKcal(i), 0);
 const cenaKcal = week.cena[day].reduce((sum, i) => sum + extraKcal(i), 0);
 const totalDia = comidaKcal + cenaKcal + BREAKFAST_KCAL + MID_MORNING_KCAL + SNACK_KCAL;
 totalKcalRow += `<td class="p-2 align-top">${totalDia} kcal</td>`;
 });
 totalKcalRow += "</tr>";

 // Generar tabla completa
 table.innerHTML = `
 <thead class="bg-gray-200">
 <tr>
 <th class="p-2 text-left sticky left-0 bg-gray-200">${week.title}</th>
 ${DAY_LABELS.map(d => `<th class="p-2 text-left">${d}</th>`).join("")}
 </tr>
 </thead>
 <tbody>
 ${rowsHtml}
 ${totalKcalRow}
 </tbody>
 `;

 container.appendChild(table);
});

// Variable para rastrear el bot√≥n activo
let activeWeekIndex = 0;

// Funci√≥n para actualizar el estilo de los botones
function updateActiveButton(newActiveIndex) {
 // Remover estilos activos del bot√≥n anterior
 const prevBtn = document.getElementById(`btn-${activeWeekIndex}`);
 if (prevBtn) {
 prevBtn.className = "week-btn px-3 py-1 border rounded bg-blue-500 text-white hover:bg-blue-600";
 }
 
 // A√±adir estilos activos al nuevo bot√≥n
 const newBtn = document.getElementById(`btn-${newActiveIndex}`);
 if (newBtn) {
 newBtn.className = "week-btn px-3 py-1 border rounded bg-orange-500 text-white hover:bg-orange-600 ring-2 ring-orange-300 shadow-lg transform scale-105";
 }
 
 // Actualizar el √≠ndice activo
 activeWeekIndex = newActiveIndex;
}

// Funci√≥n para mostrar solo la semana seleccionada
function showWeek(index){
 WEEKS.forEach((_, i)=>{
 document.getElementById("week-"+i).classList.add("hidden");
 });
 document.getElementById("week-"+index).classList.remove("hidden");
 
 // Actualizar el bot√≥n activo
 updateActiveButton(index);
}

// Mostrar la primera semana al cargar y activar su bot√≥n
showWeek(0);
</script>
</body>
</html>
